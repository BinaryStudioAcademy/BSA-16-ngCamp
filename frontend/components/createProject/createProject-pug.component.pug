user-list(user-data = 'createProj.users', select-callback = 'createProj.onUserSelect', parent-scope='createProj', ng-if='createProj.userListFlag')
user-list(user-data = 'createProj.users', select-callback = 'createProj.onAdminSelect', parent-scope='createProj', ng-if='createProj.adminListFlag')
.createProject_wrapper
	.row.center-xs
		.main.col-xs-8
			form(name="newProject",novalidate)
				.cell
					.cellTitle
						h1.componentTitle New Project
				.cell
					.cellTitle
						h2 Title:
					.projTitle
						input(name="title",type="text",ng-model="createProj.projectTitle",required,ng-minlength="3" ng-maxlength="30")
						p(ng-show="newProject.title.$invalid" class="help-block") Title is required.
						p(ng-show="newProject.title.$error.minlength" class="help-block") Title is too short.
						p(ng-show="newProject.title.$error.maxlength" class="help-block") Title is too long.
				.cell
					.cellTitle
						h2 Description:
					.projDescription
						input(ckeditor,type="text",name="text" , cols='25', rows='10',ng-model = "createProj.projectDescription",required,ng-minlength="10" ng-maxlength="300")
						hr
						p(ng-show="newProject.text.$invalid" class="help-block") Description is required.
						p(ng-show="newProject.text.$error.minlength" class="help-block") Description is too short.
						p(ng-show="newProject.text.$error.maxlength" class="help-block") Description is too long.
				.cell
					.cellTitle
						h2 Participants:
					.projParticipants
						a.addUser(ng-click="createProj.userListFlag=true;")
							i.fa.fa-plus(aria-hidden='true')
							lable Add Participant
						.participantCell(ng-repeat='userid in createProj.participants track by $index')
							.participant_wrapper
								.participantTitle {{createProj.getUserNameById(userid)}}
								.deleteButton(ng-click = "createProj.participantDelete(userid)")
									i.fa.fa-times.fa-fw(ng-if="createProj.participants.length>1")
					.cellTitle
						h2 Admins:					
					.projParticipants
						a.addUser(ng-click="createProj.adminListFlag=true;")
							i.fa.fa-plus(aria-hidden='true')
						.participantCell(ng-repeat='userid in createProj.admins track by $index')
							.participant_wrapper
								.participantTitle {{createProj.getUserNameById(userid)}}
								.deleteButton(ng-click = "createProj.adminDelete(userid)")
									i.fa.fa-times.fa-fw(ng-if="createProj.admins.length>1")
				.cell
					.cellTitle
						h2 Deadline: 
					.projDeadline
						.deadline_wrapper(ng-click = "createProj.open()")
							.date(type="date", uib-datepicker-popup="{{format}}",datepicker-options = 'createProj.datePickerOpt', ng-model="createProj.deadline", is-open='createProj.popup.opened', ng-required='true', close-text='Close', alt-input-formats='altInputFormats') {{createProj.deadline | date: "dd.MM.yyyy"}}
							i.fa.fa-calendar(aria-hidden='true')
				.cell
					.button
						button.save(ng-click="createProj.save(newProject.$valid)",type="submit") Save